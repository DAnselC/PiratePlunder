<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">

        <title>Pirate Plunder</title>

        <link href="https://fonts.googleapis.com/css?family=Luckiest+Guy|Sedgwick+Ave|Signika" rel="stylesheet"> 
        <link href="style.css" rel="stylesheet">
    </head>
    <body>
        <div id=loginPage>
            <div class="title">
                <label>Pirate</label>
                <label>Plunder</label>
            </div>
            <div>
                <p>Enter a room code for your team</p>
                <input class="roomCode" type="text" placeholder="Room Code" maxlength="25">
                <button class="submitButton">Join Lobby</button>
            </div>
        </div>

        <script>
            var roomCodeInput = document.querySelector('#loginPage .roomCode'),
                submitButton = document.querySelector('#loginPage .submitButton');

            var checkRoomCodeValidity = function () {
                if (roomCodeInput.value.trim().length > 0){
                    submitButton.disabled = false;
                }
                else {
                    submitButton.disabled = true;
                }
            }
            roomCodeInput.onchange = checkRoomCodeValidity;
            roomCodeInput.onkeydown = checkRoomCodeValidity;
            roomCodeInput.onkeyup = checkRoomCodeValidity;
            roomCodeInput.onpaste = checkRoomCodeValidity;

            submitButton.onclick = function () {
                let lobbyID = encodeURIComponent(roomCodeInput.value.trim());
                if (lobbyID.length > 0) {
                    window.location.href = "/lobby/" + lobbyID;
                }
            };

            checkRoomCodeValidity();
        </script>
    </body>
</html>